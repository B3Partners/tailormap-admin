<?xml version="1.0" encoding="UTF-8"?>
<Context crossContext="false">
    <Parameter name="componentregistry.path" override="false" value="/viewer-html/components"/>
    <Parameter name="componentregistry.crosscontext" override="false" value="/admin"/>

    <Parameter name="viewer.url" value="/" override="false"/>

    <Parameter name="monitoring.mail.from.email" value="${MAIL_FROM}" override="false"/>
    <!--Parameter name="monitoring.mail.from.name" value="Geo services monitoring" override="false"/-->
    <!--Parameter name="monitoring.schedule.minutes" value="30" override="false"/-->
    <Parameter name="tailormap.data.dir" value="${TM_DATA_DIR}" override="false"/>

    <Parameter name="tailormap.i18n.languagecodes" override="false" value="nl_NL,en_US"/>
    <Parameter name="tailormap.projections.epsgcodes" override="false"
               value="EPSG:28992[+proj=sterea +lat_0=52.15616055555555 +lon_0=5.38763888888889 +k=0.9999079 +x_0=155000 +y_0=463000 +ellps=bessel +towgs84=565.237,50.0087,465.658,-0.406857,0.350733,-1.87035,4.0812 +units=m +no_defs];EPSG:4326[]"/>

    <Parameter name="tailormap.solr.url" value="" override="false"/>
    <Parameter name="tailormap.solr.schedule" value="-1" override="false"/>
    <Parameter name="tailormap.solr.setup" value="false" override="false"/>

    <ResourceLink global="jdbc/geo_viewer" name="jdbc/geo_viewer" type="javax.sql.DataSource"/>
    <ResourceLink global="mail/session" name="mail/session" type="javax.mail.Session"/>

    <Realm className="org.apache.catalina.realm.LockOutRealm">
        <Realm allRolesMode="authOnly" className="org.apache.catalina.realm.DataSourceRealm"
               dataSourceName="jdbc/geo_viewer" roleNameCol="group_" userCredCol="password" userNameCol="username"
               userRoleTable="user_groups" userTable="user_">
            <!-- When these attributes are changed, also modify them in UserActionBean.getSecretKeyPassword()!
                 To generate a password from the commandline, execute:
                 docker run -_-rm tomcat:9.0.56-jre11-temurin /usr/local/tomcat/bin/digest.sh -a PBKDF2WithHmacSHA512 -i 100000 -k 256 -s 16 -h org.apache.catalina.realm.SecretKeyCredentialHandler mypassword
            -->
            <CredentialHandler className="org.apache.catalina.realm.SecretKeyCredentialHandler"
                               algorithm="PBKDF2WithHmacSHA512"
                               iterations="100000"
                               keyLength="256"
                               saltLength="16"
            />
        </Realm>
    </Realm>
</Context>
